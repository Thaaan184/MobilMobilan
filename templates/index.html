<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Mobil - AutoCluster AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

    <nav class="navbar">
        <div class="logo">MobilMobilan</div>
        <div class="nav-links">
            <a href="/" class="active">List Mobil</a>
            <a href="/add_car">Tambah Mobil</a>
            <a href="/predict">Beli Mobil</a>
            <a href="/sales">List Penjualan</a>
        </div>
    </nav>

    <div class="container">
        <header class="page-header">
            <h1>List Dataset Mobil</h1>
            <p>Menjelajahi hasil clustering K-Means mobil global</p>
        </header>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>No</th>  <!-- KOLOM BARU -->
                        {% for col in columns %}
                        <th>
                            {% if col == 'cluster_name' %}Jenis Mobil{% else %}{{ col }}{% endif %}
                        </th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% if data %}
                        {% for row in data %}
                        <tr>
                            <td>{{ loop.index + (page - 1) * 50 }}</td> <!-- NOMOR URUT (50 per halaman) -->
                            {% for col in columns %}
                            <td>
                                {% if col == 'cluster_name' %}
                                    <span class="badge">{{ row[col] }}</span>
                                {% else %}
                                    {{ row[col] }}
                                {% endif %}
                            </td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="{{ columns|length + 1 }}" style="text-align:center; padding:50px; color:#999;">
                                Tidak ada data.
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>

        <div class="pagination">
            {% if page > 1 %}
            <a href="{{ url_for('index', page=page-1) }}" class="btn-page">Previous</a>
            {% else %}
            <span class="btn-page disabled">Previous</span>
            {% endif %}

            <span class="page-info">Page {{ page }} of {{ total_pages }}</span>

            {% if page < total_pages %}
            <a href="{{ url_for('index', page=page+1) }}" class="btn-page">Next</a>
            {% else %}
            <span class="btn-page disabled">Next</span>
            {% endif %}
        </div>
    </div>

</body>
</html>