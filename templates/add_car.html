<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambah Mobil - MobilMobilan</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

    <nav class="navbar">
        <div class="logo">MobilMobilan</div>
        <div class="nav-links">
            <a href="/">List Mobil</a>
            <a href="/add_car" class="active">Tambah Mobil</a>
            <a href="/predict">Beli Mobil</a>
            <a href="/sales">List Penjualan</a>
        </div>
    </nav>

    <div class="container prediction-container">
        <div class="card">
            <div class="card-header">
                <h2>Tambah Mobil Baru</h2>
                <p>Isi detail mobil â€“ AI akan menentukan jenis mobil secara otomatis</p>
            </div>
            
            <div class="card-body">

                {% if error %}
                <div class="result-box" style="background:#f8d7da;color:#721c24;">
                    Error: {{ error }}
                </div>
                {% endif %}

                <form method="POST">
                    <!-- semua input tetap sama seperti sebelumnya -->
                    <div class="form-group">
                        <label>Company Names</label>
                        <input type="text" name="company_names" required>
                    </div>
                    <div class="form-group">
                        <label>Cars Names</label>
                        <input type="text" name="cars_names" required>
                    </div>
                    <div class="form-group">
                        <label>Engines</label>
                        <input type="text" name="engines" required>
                    </div>
                    <div class="form-group">
                        <label>CC/Battery Capacity</label>
                        <input type="text" name="cc_battery" required>
                    </div>
                    <div class="form-group">
                        <label>HorsePower</label>
                        <input type="text" name="horsepower" required>
                    </div>
                    <div class="form-group">
                        <label>Total Speed</label>
                        <input type="text" name="total_speed" required>
                    </div>
                    <div class="form-group">
                        <label>Performance (0 - 100 KM/H)</label>
                        <input type="text" name="performance" required>
                    </div>
                    <div class="form-group">
                        <label>Cars Prices <small>(contoh: $50,000 atau $40,000-$60,000)</small></label>
                        <input type="text" name="cars_prices" required>
                    </div>
                    <div class="form-group">
                        <label>Fuel Types</label>
                        <input type="text" name="fuel_types" required>
                    </div>
                    <div class="form-group">
                        <label>Seats (angka)</label>
                        <input type="number" name="seats" required>
                    </div>
                    <div class="form-group">
                        <label>Torque</label>
                        <input type="text" name="torque" required>
                    </div>

                    <button type="submit" class="btn-submit">Tambah Mobil</button>
                </form>
            </div>
        </div>
    </div>

{% if success %}
<div id="successModal" class="modal" style="display:block;">
    <div class="modal-content" style="padding-top: 30px;">

        <h2 style="
            color:#27ae60;
            margin:0;
            text-align:center;
            font-weight:700;
        ">
            Mobil Berhasil Ditambahkan
        </h2>

        <div class="form-group" style="text-align:center; margin-top:20px;">
            <p style="font-size:1.1rem; font-weight:600; margin-bottom:8px;">
                {{ success.car_full_name }}
            </p>

            <div class="prediction-label">
                {{ success.cluster_name }}
            </div>

            <p style="margin-top:10px; opacity:0.8;">
                Harga: {{ success.price }} USD <br>
                Kursi: {{ success.seats }}
            </p>
        </div>

        <button class="btn-submit" onclick="window.location.href='/'">
            Lihat Semua Mobil
        </button>

    </div>
</div>
{% endif %}


    <script>
        // Tutup modal kalau klik di luar area modal
        window.onclick = function(e) {
            const modal = document.getElementById('successModal');
            if (e.target === modal) modal.style.display = 'none';
        }
    </script>

</body>
</html>